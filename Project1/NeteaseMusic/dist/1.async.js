webpackJsonp([1],{"0xDb":function(t,e,a){"use strict";function r(t){var e=parseInt(t%3600/60)+"",a=parseInt(t%60)+"";return e.padStart(2,"0")+":"+a.padStart(2,"0")}function s(t){var e=t.split(":");return(60*e[0]+1*e[1]).toFixed(2)}function n(t){var e=u()(t);return e.sort(function(t,e){return Math.random()>.5?-1:1}),console.log("arr...",t,"newArrr...",e),e}e.a=r,e.c=s,e.b=n;var i=a("m1qg"),u=a.n(i)},jvVH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s,n=a("m1qg"),i=a.n(n),u=a("YbOa"),o=a.n(u),l=a("U5hO"),c=a.n(l),m=a("EE81"),h=a.n(m),p=a("Jmyu"),f=a.n(p),d=a("/00i"),y=a.n(d),g=a("9wvh"),v=a.n(g),w=a("NmwX"),E=(a.n(w),a("0xDb")),k=a("keDy"),T=a.n(k),b=(r=Object(w.connect)(function(t){var e=t.play;return console.log("play..",e),e},function(t){return{}}))(s=function(t){function e(){var t;return o()(this,e),t=f()(this,y()(e).call(this)),t.state={rightAnser:[],answers:new Array(10),answerList:[],current:0,isPlay:!1,progress:0,tempTime:{start:0,end:0}},t}return h()(e,[{key:"randomAnswer",value:function(){this.setState({answerList:Object(E.b)(this.state.rightAnser)})}},{key:"componentDidMount",value:function(){this.randomAnswer()}},{key:"startPlay",value:function(){var t=this;console.log("e...\u5f00\u59cb\u64ad\u653e",this.refs.audio.duration);var e=Math.floor(Math.random()*(this.refs.audio.duration-20));this.randomAnswer(),this.setState({tempTime:{start:e,end:e+20}},function(){i()(document.querySelectorAll("ul button")).forEach(function(t){t.className=t.className.replace(" error","").replace(" success","")}),t.refs.audio.pause(),t.refs.audio.currentTime=e,t.refs.audio.play()})}},{key:"timeUpdate",value:function(){var t=this;this.refs.audio.currentTime>this.state.tempTime.end&&(this.refs.audio.pause(),9==this.state.current?console.log("this.answers...",this.state.answers):this.setState({current:(this.state.current+1)%10},function(){t.refs.audio.play()})),this.setState({progress:Math.floor((this.refs.audio.currentTime-this.state.tempTime.start)/20*100)})}},{key:"play",value:function(){var t=this;this.setState({isPlay:!this.state.isPlay},function(){t.state.isPlay?t.refs.audio.play():t.refs.audio.pause()})}},{key:"answer",value:function(t){if(!this.state.answers[this.state.current]&&t.target!=t.currentTarget){var e=t.target.innerText,a=i()(this.state.answers);a[this.state.current]=e,this.setState({answers:a}),this.state.rightAnser[this.state.current]==e?t.target.className+=" success":t.target.className+=" error"}}},{key:"render",value:function(){var t=this;return v.a.createElement(v.a.Fragment,null,v.a.createElement("img",{src:"assets/audio.png"}),v.a.createElement("h2",null,"\u731c\u6b4c\u540d"),v.a.createElement("ul",{onClick:this.answer.bind(this)},this.state.answerList.map(function(t,e){return v.a.createElement("button",{className:T.a.answer,key:e},t)})),v.a.createElement("div",null,v.a.createElement("span",null,"00."+this.currentTime),v.a.createElement("div",{className:T.a.progress},v.a.createElement("p",{ref:"progress"},v.a.createElement("span",{style:{width:this.state.progress+"%"}}))),v.a.createElement("span",null,"00.20")),v.a.createElement("button",{onClick:this.play.bind(this)},this.state.isPlay?"\u6682\u505c":"\u64ad\u653e"),v.a.createElement("span",null,"".concat(this.state.current+1,"/10")),v.a.createElement("audio",{crossOrigin:"anonymous",src:this.props.distiguishList[this.state.current].url,ref:"audio",onTimeUpdate:function(){return t.timeUpdate()},onLoadedMetadata:function(){return t.startPlay()}}),v.a.createElement("ul",{className:T.a.list},v.a.createElement("h2",null,"\u731c\u6b4c\u7ed3\u679c"),this.state.answers.map(function(e,a){return v.a.createElement("li",null,v.a.createElement("span",null,a+1),v.a.createElement("span",null,"\u7b54\u6848\uff1a",e),v.a.createElement("span",null,e==t.state.rightAnser[a]?"\u731c\u5bf9":"\u731c\u9519"))})))}},{key:"currentTime",get:function(){return this.refs.audio&&this.refs.audio.currentTime?(Math.floor(this.refs.audio.currentTime-this.state.tempTime.start)+"").padStart(2,"0"):"00"}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{rightAnser:t.distiguishList.map(function(t){return t.name.name+" --- "+t.name.al.name})}}}]),c()(e,t),e}(v.a.PureComponent))||s;e.default=b},keDy:function(t,e){t.exports={answer:"answer___2Q_Cp",list:"list___19wzK",progress:"progress___3WuUu"}}});